set(MEDIA_DIR ${PROJECT_SOURCE_DIR}/media)

message("Copying Media files")
file(COPY ${MEDIA_DIR}/models ${MEDIA_DIR}/textures DESTINATION ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})

file(GLOB VERTEX_SHADER_FILES "${MEDIA_DIR}/shaders/*.vert")
file(GLOB FRAGMENT_SHADER_FILES "${MEDIA_DIR}/shaders/*.frag")

message("Compiling Shader Files")
foreach( SHADER_FILE IN LISTS VERTEX_SHADER_FILES )
get_filename_component(FILE_WITH_NO_EX ${SHADER_FILE} NAME_WE)
execute_process(
    COMMAND ${VULKAN_SHADER_COMPILER} ${SHADER_FILE} "-o" "${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/${FILE_WITH_NO_EX}Vert.spv"
    COMMAND_ECHO STDOUT
)
endforeach( SHADER_FILE IN LISTS VERTEX_SHADER_FILES )

foreach( SHADER_FILE IN LISTS FRAGMENT_SHADER_FILES )
get_filename_component(FILE_WITH_NO_EX ${SHADER_FILE} NAME_WE)
execute_process(
    COMMAND ${VULKAN_SHADER_COMPILER} ${SHADER_FILE} "-o" "${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/${FILE_WITH_NO_EX}Frag.spv"
    COMMAND_ECHO STDOUT
)
endforeach( SHADER_FILE IN LISTS VERTEX_SHADER_FILES )

